// eslint-disable-next-line no-restricted-syntax
import React, { useRef } from 'react';

interface Props extends React.SVGProps<SVGSVGElement> {
  size?: number;
}

// Simple unique ID generator
let idCounter = 0;
const generateUniqueId = () => `midas-icon-${Date.now()}-${++idCounter}`;

const MidasIcon: React.FC<Props> = ({ size = 24, ...props }) => {
  // To avoid a SVG visibility bug https://dev.to/bryce/a-gnarly-svg-visibility-bug-2j68
  // we use unique IDs per instance
  const defId = useRef(generateUniqueId()).current;

  return (
    <svg
      viewBox="0 0 200 200"
      fill="none"
      width={size}
      height={size}
      {...props}
    >
      <rect width="200" height="200" rx="40" fill={`url(#${defId})`} />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M60.1562 72.4688C60.1562 66 65.4062 60.75 71.875 60.75C78.3438 60.75 83.5938 66 83.5938 72.4688C83.5938 74.1925 83.221 75.8297 82.5517 77.3041L100 93.5892L117.448 77.3041C116.779 75.8297 116.406 74.1925 116.406 72.4688C116.406 66 121.656 60.75 128.125 60.75C134.594 60.75 139.844 66 139.844 72.4688C139.844 77.6262 136.506 82.009 131.875 83.5739V106.364C136.506 107.929 139.844 112.311 139.844 117.469C139.844 123.937 134.594 129.188 128.125 129.188C121.656 129.188 116.406 123.937 116.406 117.469C116.406 112.311 119.744 107.929 124.375 106.364V83.5739C123.747 83.3615 123.142 83.0974 122.566 82.7864L102.559 101.46H97.4413L77.4336 82.7864C76.858 83.0974 76.2534 83.3615 75.625 83.5739V106.364C80.2565 107.929 83.5938 112.311 83.5938 117.469C83.5938 123.937 78.3438 129.188 71.875 129.188C65.4062 129.188 60.1562 123.937 60.1562 117.469C60.1562 112.311 63.4935 107.929 68.125 106.364V83.5739C63.4935 82.009 60.1562 77.6262 60.1562 72.4688ZM76.0938 72.4688C76.0938 70.125 74.2188 68.25 71.875 68.25C69.5312 68.25 67.6562 70.125 67.6562 72.4688C67.6562 74.8125 69.5312 76.6875 71.875 76.6875C74.2188 76.6875 76.0938 74.8125 76.0938 72.4688ZM128.125 113.25C130.469 113.25 132.344 115.125 132.344 117.469C132.344 119.812 130.469 121.688 128.125 121.688C125.781 121.688 123.906 119.812 123.906 117.469C123.906 115.125 125.781 113.25 128.125 113.25ZM76.0938 117.469C76.0938 115.125 74.2188 113.25 71.875 113.25C69.5312 113.25 67.6562 115.125 67.6562 117.469C67.6562 119.812 69.5312 121.688 71.875 121.688C74.2188 121.688 76.0938 119.812 76.0938 117.469ZM132.344 72.4688C132.344 70.125 130.469 68.25 128.125 68.25C125.781 68.25 123.906 70.125 123.906 72.4688C123.906 74.8125 125.781 76.6875 128.125 76.6875C130.469 76.6875 132.344 74.8125 132.344 72.4688Z"
        fill="white"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M160 42H40V138.068L100 168.068L160 138.068V42ZM47.5 133.432V49.5H152.5V133.432L100 159.682L47.5 133.432Z"
        fill="white"
      />
      <defs>
        <linearGradient
          id={defId}
          x1="0"
          y1="0"
          x2="192.415"
          y2="158.32"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#EDD55D" />
          <stop offset="1" stopColor="#A07A44" />
        </linearGradient>
      </defs>
    </svg>
  );
};

export default MidasIcon;
