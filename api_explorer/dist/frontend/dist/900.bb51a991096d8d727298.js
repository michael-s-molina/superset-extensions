"use strict";(self.webpackChunkapi_explorer=self.webpackChunkapi_explorer||[]).push([[900],{900:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}s((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;var i=o(n(852)),l=n(919),s=n(961);t.activate=function(e){console.log("[API Explorer] Activating..."),e.disposables.push(l.core.registerViewProvider("api_explorer.apiExplorer",function(){return i.default.createElement(s.APIExplorer,null)})),e.disposables.push(l.commands.registerCommand("api_explorer.getTabs",function(){return r(void 0,void 0,void 0,function(){var e;return a(this,function(t){try{return e=l.sqlLab.getTabs(),(0,s.setLastInteraction)({type:"command",name:"getTabs",timestamp:(new Date).toISOString(),result:e}),[2,e]}catch(e){throw(0,s.setLastInteraction)({type:"command",name:"getTabs",timestamp:(new Date).toISOString(),error:String(e)}),e}})})})),e.disposables.push(l.commands.registerCommand("api_explorer.getCurrentTab",function(){return r(void 0,void 0,void 0,function(){var e;return a(this,function(t){try{return e=l.sqlLab.getCurrentTab(),(0,s.setLastInteraction)({type:"command",name:"getCurrentTab",timestamp:(new Date).toISOString(),result:e}),[2,e]}catch(e){throw(0,s.setLastInteraction)({type:"command",name:"getCurrentTab",timestamp:(new Date).toISOString(),error:String(e)}),e}})})})),e.disposables.push(l.commands.registerCommand("api_explorer.getDatabases",function(){return r(void 0,void 0,void 0,function(){var e;return a(this,function(t){try{return e=l.sqlLab.getDatabases(),(0,s.setLastInteraction)({type:"command",name:"getDatabases",timestamp:(new Date).toISOString(),result:e}),[2,e]}catch(e){throw(0,s.setLastInteraction)({type:"command",name:"getDatabases",timestamp:(new Date).toISOString(),error:String(e)}),e}})})})),console.log("[API Explorer] Activated successfully")},t.deactivate=function(){console.log("[API Explorer] Deactivated")}},961:function(e,t,n){var r,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&a(t,e,n[i]);return o(t,e),t}),l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}s((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLastInteraction=p,t.APIExplorer=m;var u=i(n(852)),c=n(919),f=null,d=new Set;function p(e){f=e,d.forEach(function(t){return t(e)})}function m(){var e=this,t=function(){var e=(0,u.useState)(f),t=e[0],n=e[1];return(0,u.useEffect)(function(){var e=function(e){n(e)};return d.add(e),function(){d.delete(e)}},[]),t}(),n=(0,u.useState)(null),r=n[0],a=n[1];(0,u.useEffect)(function(){var e=[],t=function(t,n){try{e.push(n())}catch(e){console.warn("[API Explorer] Event ".concat(t," not available:"),e)}};return t("onDidChangeEditorContent",function(){return c.sqlLab.onDidChangeEditorContent(function(e){p({type:"event",name:"onDidChangeEditorContent",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeEditorDatabase",function(){return c.sqlLab.onDidChangeEditorDatabase(function(e){p({type:"event",name:"onDidChangeEditorDatabase",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeEditorCatalog",function(){return c.sqlLab.onDidChangeEditorCatalog(function(e){p({type:"event",name:"onDidChangeEditorCatalog",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeEditorSchema",function(){return c.sqlLab.onDidChangeEditorSchema(function(e){p({type:"event",name:"onDidChangeEditorSchema",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeEditorTable",function(){return c.sqlLab.onDidChangeEditorTable(function(e){p({type:"event",name:"onDidChangeEditorTable",timestamp:(new Date).toISOString(),result:e})})}),t("onDidClosePanel",function(){return c.sqlLab.onDidClosePanel(function(e){p({type:"event",name:"onDidClosePanel",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeActivePanel",function(){return c.sqlLab.onDidChangeActivePanel(function(e){p({type:"event",name:"onDidChangeActivePanel",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeTabTitle",function(){return c.sqlLab.onDidChangeTabTitle(function(e){p({type:"event",name:"onDidChangeTabTitle",timestamp:(new Date).toISOString(),result:e})})}),t("onDidQueryRun",function(){return c.sqlLab.onDidQueryRun(function(e){p({type:"event",name:"onDidQueryRun",timestamp:(new Date).toISOString(),result:e})})}),t("onDidQueryStop",function(){return c.sqlLab.onDidQueryStop(function(e){p({type:"event",name:"onDidQueryStop",timestamp:(new Date).toISOString(),result:e})})}),t("onDidQueryFail",function(){return c.sqlLab.onDidQueryFail(function(e){p({type:"event",name:"onDidQueryFail",timestamp:(new Date).toISOString(),result:e})})}),t("onDidQuerySuccess",function(){return c.sqlLab.onDidQuerySuccess(function(e){p({type:"event",name:"onDidQuerySuccess",timestamp:(new Date).toISOString(),result:e})})}),t("onDidCloseTab",function(){return c.sqlLab.onDidCloseTab(function(e){p({type:"event",name:"onDidCloseTab",timestamp:(new Date).toISOString(),result:e})})}),t("onDidChangeActiveTab",function(){return c.sqlLab.onDidChangeActiveTab(function(e){p({type:"event",name:"onDidChangeActiveTab",timestamp:(new Date).toISOString(),result:e})})}),t("onDidRefreshDatabases",function(){return c.sqlLab.onDidRefreshDatabases(function(){p({type:"event",name:"onDidRefreshDatabases",timestamp:(new Date).toISOString(),result:null})})}),t("onDidRefreshCatalogs",function(){return c.sqlLab.onDidRefreshCatalogs(function(){p({type:"event",name:"onDidRefreshCatalogs",timestamp:(new Date).toISOString(),result:null})})}),t("onDidRefreshSchemas",function(){return c.sqlLab.onDidRefreshSchemas(function(){p({type:"event",name:"onDidRefreshSchemas",timestamp:(new Date).toISOString(),result:null})})}),t("onDidRefreshTables",function(){return c.sqlLab.onDidRefreshTables(function(){p({type:"event",name:"onDidRefreshTables",timestamp:(new Date).toISOString(),result:null})})}),function(){e.forEach(function(e){return e.dispose()})}},[]);var o=(0,u.useCallback)(function(t){return l(e,void 0,void 0,function(){var e;return s(this,function(n){switch(n.label){case 0:a(t),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,c.commands.executeCommand(t)];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),console.error("Error executing command ".concat(t,":"),e),[3,5];case 4:return a(null),[7];case 5:return[2]}})})},[]),i=function(e){return e.error?{bg:"#fef2f2",border:"#fecaca",text:"#dc2626"}:"event"===e.type?{bg:"#eff6ff",border:"#bfdbfe",text:"#2563eb"}:{bg:"#f0fdf4",border:"#bbf7d0",text:"#16a34a"}};return u.default.createElement("div",{style:{display:"flex",flexDirection:"column",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",height:"100%"}},u.default.createElement("div",{style:{padding:"12px 16px"}},u.default.createElement("div",{style:{fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"}},"SQL Lab APIs"),u.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"}},[{id:"api_explorer.getTabs",label:"getTabs",icon:"ðŸ“‘"},{id:"api_explorer.getCurrentTab",label:"getCurrentTab",icon:"ðŸ“„"},{id:"api_explorer.getDatabases",label:"getDatabases",icon:"ðŸ—„ï¸"}].map(function(e){return u.default.createElement("button",{key:e.id,onClick:function(){return o(e.id)},disabled:r===e.id,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",border:"none",borderRadius:"8px",backgroundColor:r===e.id?"#e5e7eb":"#f3f4f6",cursor:r===e.id?"wait":"pointer",fontSize:"13px",fontWeight:500,color:"#374151",transition:"all 0.15s ease"},onMouseEnter:function(t){r!==e.id&&(t.currentTarget.style.backgroundColor="#e5e7eb")},onMouseLeave:function(t){r!==e.id&&(t.currentTarget.style.backgroundColor="#f3f4f6")}},u.default.createElement("span",{style:{fontSize:"14px"}},e.icon),u.default.createElement("span",{style:{fontFamily:"Monaco, Consolas, monospace",fontSize:"12px"}},e.label))}))),u.default.createElement("div",{style:{flex:1,padding:"16px",overflow:"auto",display:"flex",flexDirection:"column"}},u.default.createElement("div",{style:{fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px"}},"Last Interaction"),t?u.default.createElement("div",{style:{backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",flex:1,display:"flex",flexDirection:"column"}},u.default.createElement("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#fafafa"}},u.default.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},u.default.createElement("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.03em",backgroundColor:i(t).bg,color:i(t).text,border:"1px solid ".concat(i(t).border)}},t.error?"Error":t.type),u.default.createElement("span",{style:{fontFamily:"Monaco, Consolas, monospace",fontSize:"13px",fontWeight:600,color:"#111827"}},t.name)),u.default.createElement("span",{style:{fontSize:"12px",color:"#9ca3af",fontVariantNumeric:"tabular-nums"}},new Date(t.timestamp).toLocaleTimeString())),u.default.createElement("div",{style:{flex:1,overflow:"auto",padding:"16px 20px"}},u.default.createElement("div",{style:{fontSize:"10px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"12px",paddingLeft:"4px"}},t.error?"Error Details":"Response"),u.default.createElement("div",{style:{backgroundColor:t.error?"#fef2f2":"#f8fafc",borderRadius:"8px",border:"1px solid ".concat(t.error?"#fecaca":"#e2e8f0"),overflow:"auto",padding:"8px"}},u.default.createElement("pre",{style:{margin:0,padding:"20px",fontFamily:"Monaco, Consolas, 'Courier New', monospace",fontSize:"12px",lineHeight:1.6,color:t.error?"#dc2626":"#334155",whiteSpace:"pre-wrap",wordBreak:"break-word",background:"transparent"}},t.error?t.error:function(e){try{return JSON.stringify(e,null,2)}catch(t){return String(e)}}(t.result))))):u.default.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderRadius:"12px",border:"1px dashed #d1d5db",color:"#9ca3af",gap:"8px"}},u.default.createElement("span",{style:{fontSize:"32px",opacity:.5}},"ðŸ“¡"),u.default.createElement("span",{style:{fontSize:"13px"}},"Waiting for interactions..."),u.default.createElement("span",{style:{fontSize:"12px",color:"#d1d5db"}},"Click an API button or trigger an event in SQL Lab"))))}t.default=m}}]);